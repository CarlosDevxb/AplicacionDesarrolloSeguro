<div class="dashboard-container fade-in" [class.sidebar-collapsed]="isSidebarCollapsed">
  <!-- Menú Lateral (Sidebar) -->
  <aside class="sidebar">
    <div class="sidebar-header">
     
    </div>

    <div class="profile-section">
      <!-- Hacemos que toda la sección de la imagen sea un label para el input oculto -->
      <label for="profile-picture-upload" class="profile-picture-container upload-label">
        <i *ngIf="!docente?.foto" class="fas fa-user-tie"></i>
        <img *ngIf="docente?.foto" [src]="docente.foto" alt="Foto de perfil" class="profile-picture-img" (error)="$event.target.src='assets/default-profile.png'">
        <div class="upload-overlay"><i class="fas fa-camera"></i></div>
      </label>
      <!-- Input de archivo oculto -->
      <input type="file" id="profile-picture-upload" (change)="onFileSelected($event)" accept="image/*" style="display: none;">
      
      <div class="profile-info">
        <!-- Mostramos el nombre corto si ya se cargaron los datos -->
        <span class="profile-name" *ngIf="docente">Ing. {{docente.nombre_completo}}</span>
        <!-- Mostramos un texto de carga mientras se obtienen los datos -->
        <span class="profile-name" *ngIf="!docente">Cargando...</span>
        
        <span class="profile-role">Rol: {{ docente?.rol | titlecase }}</span>
      </div>
    </div>

    <nav class="menu">
      <a routerLink="/docente/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="menu-item">
        <i class="fas fa-home"></i>
        <span class="menu-text">Inicio</span>
      </a>
      <a routerLink="/docente/dashboard/mis-datos" routerLinkActive="active" class="menu-item">
        <i class="fas fa-user-circle"></i>
        <span class="menu-text">Mis Datos</span>
      </a>
      <a routerLink="/docente/dashboard/grupos" routerLinkActive="active" class="menu-item">
        <i class="fas fa-users"></i>
        <span class="menu-text">Grupos</span>
      </a>
      <a routerLink="/docente/dashboard/opciones" routerLinkActive="active" class="menu-item">
        <i class="fas fa-cog"></i>
        <span class="menu-text">Opciones</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <button (click)="logout()" class="menu-item logout-button">
        <i class="fas fa-sign-out-alt"></i>
        <span class="menu-text">Cerrar Sesión</span>
      </button>
    </div>
  </aside>

  <!-- Contenido Principal -->
  <main class="main-content">
    <!-- Cabecera de Bienvenida -->
    <header class="content-header">
      <div class="header-text">
        <!-- Usamos el nombre completo del docente en el saludo -->
        <h1>Bienvenido de nuevo, {{ docente?.nombre_completo || 'Docente' }}</h1>
        <p>Aquí tienes un resumen de tu actividad y notificaciones.</p>
      </div>
    </header>

    <!-- Sección de Tarjetas de Resumen -->
    <section class="summary-cards">
      <div class="card">
        <div class="card-icon" style="background-color: #e0f2fe;">
          <i class="fas fa-book-open" style="color: #0ea5e9;"></i>
        </div>
        <h3>Mis Cursos</h3>
        <p>Gestiona tus materias y contenido.</p>
      </div>
      <div class="card">
        <div class="card-icon" style="background-color: #e0fdf4;">
          <i class="fas fa-users" style="color: #10b981;"></i>
        </div>
        <h3>Estudiantes</h3>
        <p>Consulta la lista de tus alumnos.</p>
      </div>
      <div class="card">
        <div class="card-icon" style="background-color: #fef3c7;">
          <i class="fas fa-clipboard-list" style="color: #f59e0b;"></i>
        </div>
        <h3>Tareas</h3>
        <p>Revisa y califica las entregas.</p>
      </div>
    </section>

    <section class="content-area">
      <div class="notice-board">
        <h2>Cartelera de Avisos</h2>
        <p>Aquí se mostrarán los avisos importantes de la institución.</p>
      </div>
    </section>
  </main>
</div>
